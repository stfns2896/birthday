import{W as p,P as _,A as w,s as f,a as g,S as F,D as A,b as y,O as S,V as r,F as l,c as L,C as v}from"./vendor.6a2ae917.js";const M=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const e of i.addedNodes)e.tagName==="LINK"&&e.rel==="modulepreload"&&n(e)}).observe(document,{childList:!0,subtree:!0});function o(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerpolicy&&(i.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?i.credentials="include":t.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(t){if(t.ep)return;t.ep=!0;const i=o(t);fetch(t.href,i)}};M();let b="./resources/anim/man.fbx",h="./resources/anim/girl.fbx",j="./resources/anim/singing.fbx",m="./resources/anim/Silly Dancing.fbx";class E{constructor(){this._Initialize()}_Initialize(){this._threejs=new p({antialias:!0,alpha:!0}),this._threejs.shadowMap.enabled=!0,this._threejs.shadowMap.type=_,this._threejs.physicallyCorrectLights=!0,this._threejs.toneMapping=w,this._threejs.outputEncoding=f;const s=document.getElementById("model");s.appendChild(this._threejs.domElement),this._threejs.setSize(s.offsetWidth,s.offsetHeight),window.addEventListener("resize",()=>{this._OnWindowResize()},!1);const o=60,n=s.offsetWidth/s.offsetHeight,t=1,i=1e3;this._camera=new g(o,n,t,i),this._camera.position.set(15,15,20),this._scene=new F;let e=new A(16777215);e.position.set(20,100,10),e.target.position.set(0,0,0),e.castShadow=!0,e.shadow.bias=-.001,e.shadow.mapSize.width=2048,e.shadow.mapSize.height=2048,e.shadow.camera.near=.1,e.shadow.camera.far=500,e.shadow.camera.near=.5,e.shadow.camera.far=500,e.shadow.camera.left=100,e.shadow.camera.right=-100,e.shadow.camera.top=100,e.shadow.camera.bottom=-100,this._scene.add(e),e=new y(16777215),this._scene.add(e),this._controls=new S(this._camera,this._threejs.domElement),this._controls.target.set(0,10,0),this._controls.update(),this._LoadAnimatedModelAndPlay(b,j,new r(0,0,0)),this._LoadAnimatedModelAndPlay(h,m,new r(-20,0,-20)),this._LoadAnimatedModelAndPlay(h,m,new r(20,0,-20)),this._mixers=[],this._previousRAF=null,this._scrollAmount=0,this._RAF()}_LoadAnimatedModelAndPlay(s,o,n){new l().load(s,i=>{i.scale.setScalar(.1),i.traverse(a=>{a.castShadow=!0}),i.position.copy(n),new l().load(o,a=>{const c=new L(i);this._mixers.push(c),c.clipAction(a.animations[0]).play()}),this._scene.add(i)})}OnScroll(s){const t=Math.min(s/500,1);this._camera.position.set(15+t*(-15-15),15,20),this._controls.update()}_OnWindowResize(){this._camera.aspect=window.innerWidth/window.innerHeight,this._camera.updateProjectionMatrix(),this._threejs.setSize(window.innerWidth,window.innerHeight)}_Step(s){const o=s*.001;this._mixers&&this._mixers.map(n=>n.update(o))}_RAF(){requestAnimationFrame(s=>{this._previousRAF===null&&(this._previousRAF=s);const o=new v;this._RAF(),this._mixers.forEach(n=>{n.update(o.getDelta())}),this._threejs.render(this._scene,this._camera),this._Step(s-this._previousRAF),this._previousRAF=s})}}let u=null;window.addEventListener("DOMContentLoaded",()=>{u=new E});window.addEventListener("scroll",d=>{u.OnScroll(window.scrollY)});
